# UniqueUI Architecture and Rules for AI Agents

You are acting as an AI coding assistant in the **UniqueUI** repository. UniqueUI is an animated React component library modeled around copy-paste architecture using `npx uniqueui`.

Follow these rules closely when suggesting or modifying code:

## 1. Core Architecture
- UniqueUI is a monorepo containing `apps/www` (Next.js showcase) and `packages/cli` (CLI tool).
- Components live in `registry/`. The CLI uses `registry.json` generated from this folder.
- **NEVER** edit `registry.json` manually. It is auto-generated by running `pnpm build:registry`.
- The showcase site uses components copied into `apps/www/components/ui`. When editing a component, ensure you update BOTH the `registry/{component}.tsx` source file AND the `apps/www/components/ui/` file so the docs reflect the changes.

## 2. Component Design Principles
- **Motion First**: Use `motion` (from `motion/react`) for all animations. Do not rely solely on CSS transitions for complex animations.
- **Physics Based**: Prefer `type: "spring"` animations over linear/eased durations for a natural, premium feel.
- **Self-Contained**: Components must be a single file copy-paste. Include all variants, sub-components, and logic within the same file if possible. Avoid external dependencies unless absolutely necessary.
- **Utility Support**: All components must accept a `className` prop and utilize the `cn` utility (`clsx` + `tailwind-merge`) for styling overloads.
- **Tailwind V4**: Follow Tailwind classes convention. Avoid arbitrary values (`w-[123px]`) if standard theme tokens (`w-32`) suffice.
- **Accessibility**: Include standard HTML / ARIA attributes where applicable.

## 3. Adding a New Component Workflow
If adding a completely new component:
1. Create `registry/{component-name}.tsx`.
2. Update `registry/config.ts` by adding the component's dependencies, metadata, and Tailwind configs.
3. Run `pnpm build:registry` from the root directory to build the registry JSON.
4. Add the component to `apps/www/components/ui/{component-name}.tsx`.
5. Document it in `apps/www/config/components.ts` and add usage instructions.

## 4. Documentation and Commits
- Use explicit markdown when writing docs.
- Ensure the `installCmd` uses `npx uniqueui add {component}`.
- For commits, follow the Conventional Commits specification (e.g., `feat(registry): added confetti burst`, `fix(cli): resolved path bug`).

By following these guidelines, you ensure that the UI components remain stable, highly animated, and correctly synced between the registry metadata and the CLI distribution.
